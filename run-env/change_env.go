package main

import (
	"fmt"
	"os"
	"sort"
	"strings"
)

var template string = `# =============== Generated by run-env ===============
%s
# ====================================================`

func ChangeFileEnv(e map[string]string) {
	var envSlice []string
	for k, v := range e {
		envSlice = append(envSlice, k+"="+v)
	}
	sort.Strings(envSlice)
	os.WriteFile(".env", []byte(fmt.Sprintf(template, strings.Join(envSlice, "\n"))), 0644)
}

func sliceToString(slice []string) string {
	if len(slice) == 0 {
		return ""
	}
	return "\n" + "  - " + slice[0] + "\n" + "  - " + slice[1]
}
